<% item = cart_item.item %>

<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Species</th>
      <th>Quantity</th>
      <th>Price</th>
      <th>Total</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><%= item.name %></td>
      <td><%= item.species %></td>
      <td>
        <%= form_with model: cart_item, url: cart_item_path(cart_item), method: :patch, local: true do |form| %>
          <%= form.number_field :quantity, value: cart_item.quantity, min: 1, class: "form-control" %>
          <%= form.submit "Update", class: "btn btn-sm btn-primary" %>
        <% end %>
      </td>
      <td><%= number_to_currency(item.price) %></td>
      <td><%= number_to_currency(cart_item.quantity * item.price) %></td>
      <td>
        <%= button_to "Remove", cart_item_path(cart_item), method: :delete, class: "btn btn-sm btn-danger", data: { confirm: "Are you sure?" } %>
      </td>
    </tr>
  </tbody>
</table>